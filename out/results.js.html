<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: results.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: results.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Function to show charts
 */
// $(document).ready(function () {
    $('body').css("background-image", "url(../img/bg1.jpg");
    isLogin();
    var ratingData = JSON.parse(localStorage.getItem('ratingData'));
    var comicsCatalog = JSON.parse(localStorage.getItem('comics'));
    var catalog = JSON.parse(localStorage.getItem('characters'));
    var dataGraphic;
    var type = 'characters';
    /**
     * Change the type of selection
     */
    var $typeSwitch = $('#type');
    $typeSwitch.change(function () {
        if ($typeSwitch.prop('checked'))
            type = 'characters';
        else
            type = 'comics';
        loadData();
        drawChartDonut();
        drawChart();        
        drawChartPie();    
    });
    loadData();

    // #region - Donut chart
    $('#donut').change(function () {
        drawChartDonut();
    });
    google.charts.load("current", { packages: ["corechart"] });
    google.charts.setOnLoadCallback(drawChartDonut);
    function drawChartDonut() {
        var data = google.visualization.arrayToDataTable(dataGraphic);
        var options = {
            title: 'Best Rated',
            pieHole: 0.4,
        };
        var chart = new google.visualization.PieChart(document.getElementById('graphic'));
        chart.draw(data, options);
    }
    // #endregion

    // #region - diagrama de chart
    $('#chart').change(function () {
        drawChart();
    });
    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);
    function drawChart() {
        var data = google.visualization.arrayToDataTable(dataGraphic);
        var options = {
            title: 'Best Rated',
            curveType: 'function',
            legend: { position: 'bottom' }
        };
        var chart = new google.visualization.LineChart(document.getElementById('graphic'));
        chart.draw(data, options);
    };
    // #endregion

    // #region - diagrama de tarta
    $('#pie').change(function () {
        drawChartPie();
    });
    google.charts.load("current", { packages: ["corechart"] });
    google.charts.setOnLoadCallback(drawChartPie);
    function drawChartPie() {
        var data = google.visualization.arrayToDataTable(dataGraphic);
        var options = {
            title: 'Best Rated',
            is3D: true,
        };
        var chart = new google.visualization.PieChart(document.getElementById('graphic'));
        chart.draw(data, options);
    }
    // #endregion

    $('#logout').click(function () {
        localStorage.removeItem('currentUser');
        location.reload();
    });
    
    /** 
     * Reads the info from the voting result
    */
    function loadData() {
        dataGraphic = [['Rate', 'Best Rated']];
        ratingData.forEach(function (e) {
            if (e.type === type)
                dataGraphic.push([e.name, e.rate]);
        });
    }
// });</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#$form">$form</a></li><li><a href="global.html#$typeSwitch">$typeSwitch</a></li><li><a href="global.html#comicsCatalog">comicsCatalog</a></li><li><a href="global.html#didYouVoted">didYouVoted</a></li><li><a href="global.html#isLogin">isLogin</a></li><li><a href="global.html#loadData">loadData</a></li><li><a href="global.html#noDescription">noDescription</a></li><li><a href="global.html#paginate">paginate</a></li><li><a href="global.html#printCards">printCards</a></li><li><a href="global.html#saveData">saveData</a></li><li><a href="global.html#transferData">transferData</a></li><li><a href="global.html#User">User</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Fri Feb 09 2018 22:44:28 GMT+0000 (Hora est√°ndar GMT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
